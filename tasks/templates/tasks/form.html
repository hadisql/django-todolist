{% extends 'core/base.html' %}


{% block title %}{{ title }}{% endblock %}

{% block body %}
  <div class="w-full md:w-3/4 my-6 p-6 mx-auto bg-slate-200 rounded-xl">
    <h1 class="mb-6 text-3xl">{{ title }}</h1>

    <form action="." method="POST">
      {% csrf_token %}

      <div class="space-y-4">
        {{ form.as_p }}
      </div>
      {% if form.errors or form.non_field_errors %}
        <div class="mb-3 p-6 bg-red-100 rounded-xl">
          {% for field in form %}
            {{ field.errors }}
          {% endfor %}

          {{ form.non_field_errors }}
        </div>
      {% endif %}

      <div class="flex mt-6 w-full justify-between">
        <input type="submit" value="Submit" class="bg-gray-500 text-white rounded-xl py-4 px-8 font-semibold hover:bg-gray-700">
        {% if title == "Edit Task" %} <!-- Delete button only on Edit Form -->
        <a href="{% url 'tasks:delete' task.pk %}" class="py-4 px-8 bg-red-600 rounded-xl text-white hover:bg-red-900">Delete</a>
        {% endif %}
      </div>
    </form>

  </div>

{% endblock %}
